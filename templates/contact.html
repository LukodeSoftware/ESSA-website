{% extends 'base.html' %}

{% block title %}{{ translations['contact_title'] }} - {{ translations['site_name'] }}{% endblock %}

{% block content %}
<!-- Page Banner -->
<div class="hero-section" style="height: 40vh; min-height: 300px;">
    <div class="container">
        <div class="hero-content">
            <h1 class="animate__animated animate__fadeInDown">{{ translations['contact_title'] }}</h1>
        </div>
    </div>
</div>

<!-- Contact Section -->
<section class="section">
    <div class="container">
        <div class="section-title">
            <h2>{{ translations['contact_title'] }}</h2>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <div class="contact-info">
                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="contact-info-text">
                            <h5>{{ translations['contact_phone'] }}</h5>
                            <p>+48 505 045 367</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-info-text">
                            <h5>{{ translations['contact_email'] }}</h5>
                            <p>info@essawaw.pl</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-info-text">
                            <h5>{{ translations['location_1'] }}</h5>
                            <p>{{ translations['location_1_address'] }}</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-info-text">
                            <h5>{{ translations['location_2'] }}</h5>
                            <p>{{ translations['location_2_address'] }}</p>
                        </div>
                    </div>
                </div>
                
                <div class="map-container mt-5" id="map">
                    <!-- Google Map will be loaded here -->
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="contact-form-wrapper bg-light-blue p-4 rounded">
                    <h3 class="mb-4">{{ translations['contact_form_title'] }}</h3>
                    
                    <form id="contactForm" action="{{ url_for('contact') }}" method="POST" class="contact-form needs-validation" novalidate>
                        {{ form.csrf_token }}
                        
                        <div class="mb-3">
                            <label for="name" class="form-label">{{ translations['contact_name'] }} *</label>
                            {{ form.name(class="form-control", placeholder=translations['contact_name'], required=True) }}
                            <div class="invalid-feedback">
                                Please provide your name.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="email" class="form-label">{{ translations['contact_email_field'] }} *</label>
                            {{ form.email(class="form-control", placeholder=translations['contact_email_field'], required=True) }}
                            <div class="invalid-feedback">
                                Please provide a valid email address.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="phone" class="form-label">{{ translations['contact_phone_field'] }} *</label>
                            {{ form.phone(class="form-control", placeholder=translations['contact_phone_field'], required=True) }}
                            <div class="invalid-feedback">
                                Please provide your phone number.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="message" class="form-label">{{ translations['contact_message'] }} *</label>
                            {{ form.message(class="form-control", placeholder=translations['contact_message'], rows=5, required=True) }}
                            <div class="invalid-feedback">
                                Please provide a message.
                            </div>
                        </div>
                        
                        <button type="submit" class="btn contact-form-btn w-100">
                            <i class="fas fa-paper-plane me-2"></i>{{ translations['contact_submit'] }}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Schedule Section -->
<section class="section bg-light-blue">
    <div class="container">
        <div class="section-title">
            <h2>{{ translations['schedule_heading'] }}</h2>
        </div>
        
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <table class="table table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>Hours</th>
                                    <th>Availability</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Monday - Friday</td>
                                    <td>6:00 PM – 8:00 PM</td>
                                    <td><span class="badge bg-success">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Saturday</td>
                                    <td>11:00 AM – 8:00 PM</td>
                                    <td><span class="badge bg-success">Available</span></td>
                                </tr>
                                <tr>
                                    <td>Sunday</td>
                                    <td>12:00 PM – 8:00 PM</td>
                                    <td><span class="badge bg-success">Available</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <p class="text-center mt-4">
                    <i class="fas fa-info-circle me-2"></i>
                    To book a specific time slot, please contact us by phone or email, or fill out the contact form.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Voucher Section -->
<section class="voucher-section section">
    <div class="container">
        <div class="section-title">
            <h2>{{ translations['voucher_title'] }}</h2>
            <p>{{ translations['voucher_desc'] }}</p>
        </div>
        
        <div class="row">
            <div class="col-md-6 mx-auto">
                <div class="card shadow-sm">
                    <div class="card-body text-center p-5">
                        <i class="fas fa-gift text-primary mb-4" style="font-size: 3rem;"></i>
                        <h3 class="mb-3">Give the Gift of Swimming</h3>
                        <p>Perfect for birthdays, holidays, or any special occasion!</p>
                        <a href="{{ url_for('pricing') }}" class="btn btn-primary mt-3">
                            <i class="fas fa-tags me-2"></i>{{ translations['voucher_button'] }}
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Google Map initialization
    function initMap() {
        if (document.getElementById('map')) {
            // Map configuration for Inflancka Swimming Center
            const inflanckaPosn = { lat: 52.2549, lng: 20.9901 }; // This is an estimate, replace with actual coordinates
            
            // Create map
            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 13,
                center: inflanckaPosn,
                styles: [
                    {
                        "featureType": "water",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#e9e9e9"
                            },
                            {
                                "lightness": 17
                            }
                        ]
                    },
                    {
                        "featureType": "landscape",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#f5f5f5"
                            },
                            {
                                "lightness": 20
                            }
                        ]
                    },
                    {
                        "featureType": "road.highway",
                        "elementType": "geometry.fill",
                        "stylers": [
                            {
                                "color": "#ffffff"
                            },
                            {
                                "lightness": 17
                            }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "color": "#b1d0ea"
                            }
                        ]
                    }
                ]
            });
            
            // Add markers for swimming locations
            const inflanckaMark = new google.maps.Marker({
                position: inflanckaPosn,
                map: map,
                title: 'Inflancka Swimming Center',
                animation: google.maps.Animation.DROP
            });
            
            // Medical University of Warsaw Pool (WUM)
            const wumPosn = { lat: 52.2084, lng: 20.9816 }; // This is an estimate, replace with actual coordinates
            const wumMark = new google.maps.Marker({
                position: wumPosn,
                map: map,
                title: 'Medical University of Warsaw Pool (WUM)',
                animation: google.maps.Animation.DROP
            });
            
            // Info windows for markers
            const inflanckaInfo = new google.maps.InfoWindow({
                content: '<div class="map-info-window"><h5>Inflancka Swimming Center</h5><p>ul. Inflancka 8, 00-189 Warsaw</p></div>'
            });
            
            const wumInfo = new google.maps.InfoWindow({
                content: '<div class="map-info-window"><h5>Medical University of Warsaw Pool (WUM)</h5><p>ul. Księcia Trojdena 2C</p></div>'
            });
            
            // Add click listeners to markers
            inflanckaMark.addListener('click', function() {
                inflanckaInfo.open(map, inflanckaMark);
            });
            
            wumMark.addListener('click', function() {
                wumInfo.open(map, wumMark);
            });
        }
    }
    
    // Make sure to load the Google Maps API
    window.initMap = initMap;
</script>
{% endblock %}
